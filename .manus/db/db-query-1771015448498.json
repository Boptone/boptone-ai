{
  "query": "CREATE TABLE IF NOT EXISTS `flywheel_discovery_tracking` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `discovererArtistId` int NOT NULL,\n  `discoveredArtistId` int NOT NULL,\n  `fanUserId` int NOT NULL,\n  `source` enum('discover_page','artist_profile','playlist','search','recommendation') NOT NULL,\n  `firstStreamId` int NOT NULL,\n  `bonusActive` boolean NOT NULL DEFAULT true,\n  `bonusExpiresAt` timestamp NOT NULL,\n  `totalBonusEarned` int NOT NULL DEFAULT 0,\n  `discoveredAt` timestamp NOT NULL DEFAULT (now()),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_discovery_tracking_id` PRIMARY KEY(`id`),\n  KEY `discoverer_idx` (`discovererArtistId`),\n  KEY `discovered_idx` (`discoveredArtistId`),\n  KEY `fan_idx` (`fanUserId`),\n  KEY `bonus_active_idx` (`bonusActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_milestones` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `artistProfileId` int NOT NULL,\n  `milestoneType` enum('1k_streams','10k_streams','50k_streams','100k_streams','500k_streams','1m_streams') NOT NULL,\n  `streamCount` int NOT NULL,\n  `boostTriggered` boolean NOT NULL DEFAULT false,\n  `boostType` enum('discover_featured','email_blast','social_promotion','playlist_inclusion'),\n  `boostStartDate` timestamp,\n  `boostEndDate` timestamp,\n  `additionalStreams` int NOT NULL DEFAULT 0,\n  `additionalRevenue` int NOT NULL DEFAULT 0,\n  `achievedAt` timestamp NOT NULL DEFAULT (now()),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_milestones_id` PRIMARY KEY(`id`),\n  KEY `artist_id_idx` (`artistProfileId`),\n  KEY `milestone_type_idx` (`milestoneType`),\n  KEY `boost_triggered_idx` (`boostTriggered`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_super_fans` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `status` enum('active','inactive') NOT NULL DEFAULT 'active',\n  `uniqueArtistsStreamed` int NOT NULL DEFAULT 0,\n  `totalStreamsLast30Days` int NOT NULL DEFAULT 0,\n  `qualifiedAt` timestamp NOT NULL DEFAULT (now()),\n  `lastStreamAt` timestamp NOT NULL DEFAULT (now()),\n  `multiplierStreams` int NOT NULL DEFAULT 0,\n  `totalBonusGenerated` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `flywheel_super_fans_id` PRIMARY KEY(`id`),\n  KEY `user_id_idx` (`userId`),\n  KEY `status_idx` (`status`),\n  KEY `last_stream_idx` (`lastStreamAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_discovery_bonuses` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `discoveryTrackingId` int NOT NULL,\n  `discovererArtistId` int NOT NULL,\n  `discoveredArtistId` int NOT NULL,\n  `streamId` int NOT NULL,\n  `trackId` int NOT NULL,\n  `baseRevenue` int NOT NULL,\n  `bonusAmount` int NOT NULL,\n  `fundedBy` enum('network_pool') NOT NULL DEFAULT 'network_pool',\n  `status` enum('pending','paid','expired') NOT NULL DEFAULT 'pending',\n  `paidAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_discovery_bonuses_id` PRIMARY KEY(`id`),\n  KEY `discoverer_idx` (`discovererArtistId`),\n  KEY `discovered_idx` (`discoveredArtistId`),\n  KEY `stream_id_idx` (`streamId`),\n  KEY `status_idx` (`status`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_boosts` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `milestoneId` int NOT NULL,\n  `artistProfileId` int NOT NULL,\n  `boostType` enum('discover_featured','email_blast','social_promotion','playlist_inclusion') NOT NULL,\n  `startDate` timestamp NOT NULL,\n  `endDate` timestamp NOT NULL,\n  `targetGenres` json,\n  `targetAudience` enum('all','genre_fans','similar_artists_fans') NOT NULL DEFAULT 'all',\n  `impressions` int NOT NULL DEFAULT 0,\n  `clicks` int NOT NULL DEFAULT 0,\n  `newStreams` int NOT NULL DEFAULT 0,\n  `newFollowers` int NOT NULL DEFAULT 0,\n  `revenueGenerated` int NOT NULL DEFAULT 0,\n  `poolCostCents` int NOT NULL DEFAULT 0,\n  `status` enum('scheduled','active','completed','canceled') NOT NULL DEFAULT 'scheduled',\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `flywheel_boosts_id` PRIMARY KEY(`id`),\n  KEY `artist_id_idx` (`artistProfileId`),\n  KEY `status_idx` (`status`),\n  KEY `start_date_idx` (`startDate`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2SKEMaxYovcAzrR.root --database nTbKjjzazhRpeJn9kKuXdQ --execute CREATE TABLE IF NOT EXISTS `flywheel_discovery_tracking` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `discovererArtistId` int NOT NULL,\n  `discoveredArtistId` int NOT NULL,\n  `fanUserId` int NOT NULL,\n  `source` enum('discover_page','artist_profile','playlist','search','recommendation') NOT NULL,\n  `firstStreamId` int NOT NULL,\n  `bonusActive` boolean NOT NULL DEFAULT true,\n  `bonusExpiresAt` timestamp NOT NULL,\n  `totalBonusEarned` int NOT NULL DEFAULT 0,\n  `discoveredAt` timestamp NOT NULL DEFAULT (now()),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_discovery_tracking_id` PRIMARY KEY(`id`),\n  KEY `discoverer_idx` (`discovererArtistId`),\n  KEY `discovered_idx` (`discoveredArtistId`),\n  KEY `fan_idx` (`fanUserId`),\n  KEY `bonus_active_idx` (`bonusActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_milestones` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `artistProfileId` int NOT NULL,\n  `milestoneType` enum('1k_streams','10k_streams','50k_streams','100k_streams','500k_streams','1m_streams') NOT NULL,\n  `streamCount` int NOT NULL,\n  `boostTriggered` boolean NOT NULL DEFAULT false,\n  `boostType` enum('discover_featured','email_blast','social_promotion','playlist_inclusion'),\n  `boostStartDate` timestamp,\n  `boostEndDate` timestamp,\n  `additionalStreams` int NOT NULL DEFAULT 0,\n  `additionalRevenue` int NOT NULL DEFAULT 0,\n  `achievedAt` timestamp NOT NULL DEFAULT (now()),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_milestones_id` PRIMARY KEY(`id`),\n  KEY `artist_id_idx` (`artistProfileId`),\n  KEY `milestone_type_idx` (`milestoneType`),\n  KEY `boost_triggered_idx` (`boostTriggered`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_super_fans` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `status` enum('active','inactive') NOT NULL DEFAULT 'active',\n  `uniqueArtistsStreamed` int NOT NULL DEFAULT 0,\n  `totalStreamsLast30Days` int NOT NULL DEFAULT 0,\n  `qualifiedAt` timestamp NOT NULL DEFAULT (now()),\n  `lastStreamAt` timestamp NOT NULL DEFAULT (now()),\n  `multiplierStreams` int NOT NULL DEFAULT 0,\n  `totalBonusGenerated` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `flywheel_super_fans_id` PRIMARY KEY(`id`),\n  KEY `user_id_idx` (`userId`),\n  KEY `status_idx` (`status`),\n  KEY `last_stream_idx` (`lastStreamAt`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_discovery_bonuses` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `discoveryTrackingId` int NOT NULL,\n  `discovererArtistId` int NOT NULL,\n  `discoveredArtistId` int NOT NULL,\n  `streamId` int NOT NULL,\n  `trackId` int NOT NULL,\n  `baseRevenue` int NOT NULL,\n  `bonusAmount` int NOT NULL,\n  `fundedBy` enum('network_pool') NOT NULL DEFAULT 'network_pool',\n  `status` enum('pending','paid','expired') NOT NULL DEFAULT 'pending',\n  `paidAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `flywheel_discovery_bonuses_id` PRIMARY KEY(`id`),\n  KEY `discoverer_idx` (`discovererArtistId`),\n  KEY `discovered_idx` (`discoveredArtistId`),\n  KEY `stream_id_idx` (`streamId`),\n  KEY `status_idx` (`status`)\n);\n\nCREATE TABLE IF NOT EXISTS `flywheel_boosts` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `milestoneId` int NOT NULL,\n  `artistProfileId` int NOT NULL,\n  `boostType` enum('discover_featured','email_blast','social_promotion','playlist_inclusion') NOT NULL,\n  `startDate` timestamp NOT NULL,\n  `endDate` timestamp NOT NULL,\n  `targetGenres` json,\n  `targetAudience` enum('all','genre_fans','similar_artists_fans') NOT NULL DEFAULT 'all',\n  `impressions` int NOT NULL DEFAULT 0,\n  `clicks` int NOT NULL DEFAULT 0,\n  `newStreams` int NOT NULL DEFAULT 0,\n  `newFollowers` int NOT NULL DEFAULT 0,\n  `revenueGenerated` int NOT NULL DEFAULT 0,\n  `poolCostCents` int NOT NULL DEFAULT 0,\n  `status` enum('scheduled','active','completed','canceled') NOT NULL DEFAULT 'scheduled',\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `flywheel_boosts_id` PRIMARY KEY(`id`),\n  KEY `artist_id_idx` (`artistProfileId`),\n  KEY `status_idx` (`status`),\n  KEY `start_date_idx` (`startDate`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 860
}